<html>
    <head>
        <title>AstroStock</title>
        <meta charset="utf-8">
        <link href="style.css" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!--Getting Bootstrap Library-->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    </head>
    <body>

        <!-- All Javascript -->
        <script type="text/javascript">

        function requestZodiac(){
	       
		    var sign;
		
		    var searchInfo = document.getElementById("bar").value;
	
		    var currentIndex = $('div.active').index +1;
	
		    if(currentIndex = 1){
			    sign = "Aquarius"
	         }else if (currenIndex = 2){
			    sign = "Aries"
		    }else if(currentIndex = 3){
			    sign = "Cancer"
		    }else if(CurrentIndex= 4){
			    sign = "Capricorn"
		    }else if(currentIndex = 5){
		    	sign = "Gemini" 
		    }else if(currenIndex = 6){
		    	sign="Leo"
		    }else if(currenIndex = 7){
		    	sign ="Libra"
		    }else if (currentIndex = 8){
		    	sign = "Pisces"
		    }else if(currentIndex = 9){
		    	sign = "Sagittarius"
		    }else if(currentIndex = 10){
		    	sign="Scorpio"
		    }else if(currenIndex = 11){
		    	sign = "Taurus"
		    }else {
		    	sign = "Virgo"
            }
            
            //document.getElementById("quote").innerText = searchInfo + sign;

            postAstro(sign);
            //postStock(searchInfo);
        };

        function postAstro(s){
            const data = s;
            var message;

            //document.getElementById("quote").innerText = s + q;

            const xhr = new XMLHttpRequest();
            xhr.withCredentials = true;

            xhr.addEventListener("readystatechange", function () {
                if (this.readyState === this.DONE) {
                    console.log(this.responseText);
                }
            });

            xhr.open("POST", "https://sameer-kumar-aztro-v1.p.rapidapi.com/");
            xhr.setRequestHeader("x-rapidapi-key", "37528f0ba4msh940fe61e6dbd892p16d3efjsncff2fa9d4c4f");
            xhr.setRequestHeader("x-rapidapi-host", "sameer-kumar-aztro-v1.p.rapidapi.com");
            xhr.setResponseHeader("day","Today");
            xhr.setResponseHeader("sign",data);

            xhr.send();

            message = xhr.getElementByTagName()

            document.getElementById("quote").innerText = message;

        };

       /* function postStock(q){
            const data = q;

            const xhr = new XMLHttpRequest();
            xhr.withCredentials = true;

            xhr.addEventListener("readystatechange", function () {
                if (this.readyState === this.DONE) {
                    console.log(this.responseText);
                }
            });

            xhr.open("GET", "https://alpha-vantage.p.rapidapi.com/query?function=GLOBAL_QUOTE&symbol=TSLA");
            xhr.setRequestHeader("x-rapidapi-key", "37528f0ba4msh940fe61e6dbd892p16d3efjsncff2fa9d4c4f");
            xhr.setRequestHeader("x-rapidapi-host", "alpha-vantage.p.rapidapi.com");

            xhr.send(data);
        }; */

        </script>
        <div class="wrapper">
            <header>
                <h1>AstroStock</h1>
            </header>
            <nav>
                <div id="myCarousel" class="carousel slide" data-interval="false" data-ride="carousel" data-pause="hover">
                    <!-- Indicators for which div is showing -->
                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                        <li data-target="#myCarousel" data-slide-to="3"></li>
                        <li data-target="#myCarousel" data-slide-to="4"></li>
                        <li data-target="#myCarousel" data-slide-to="5"></li>
                        <li data-target="#myCarousel" data-slide-to="6"></li>
                        <li data-target="#myCarousel" data-slide-to="7"></li>
                        <li data-target="#myCarousel" data-slide-to="8"></li>
                        <li data-target="#myCarousel" data-slide-to="9"></li>
                        <li data-target="#myCarousel" data-slide-to="10"></li>
                        <li data-target="#myCarousel" data-slide-to="11"></li>
                        <li data-target="#myCarousel" data-slide-to="12"></li>
                    </ol>
                    <!--Items showing in the carousel-->
                    <div class="carousel-inner">
                        <div id="aqua" class="item active">
                            <div id="post" name="aquarius">
                                <img src="images/aquarius.PNG" alt="aquarius" width="60%">
                            </div>
                            <div id="card" class="item">
                                <h3>Aquarius</h3>
                            </div>
                        </div>
                        <div id="aries" class="item">
                            <div id="post"  value="aries">
                                <img src="images/aries.PNG" alt="aries" width="60%">
                            </div>
                            <div id="card">
                                <h3>Aries</h3>
                            </div>
                        </div>
                        
                        <div id="cancer" class="item">
                            <div id="post" onclick="requestZodiac()" value="cancer">
                                <img src="images/cancer.PNG" alt="cancer" width="60%">
                            </div>
                            <div id="card">
                                <h3>Cancer</h3>
                            </div>
                        </div>
                    
                        <div id="capricorn" class="item">
                            <div id="post" onclick="requestZodiac()" value="capricorn">
                                <img src="images/capricorn.PNG" alt="capricorn" width="60%">
                            </div>
                            <div id="card">
                                <h3>Capricorn</h3>
                            </div>
                        </div>
                        
                        
                        <div id="gemini" class="item">
                            <div id="post" onclick="requestZodiac()" value="gemini">
                                <img src="images/gemini.PNG" alt="gemini" width="60%">
                            </div>
                            <div id="card">
                                <h3>Gemini</h3>
                            </div>
                        </div>
                        
                        <div id="leo" class="item">
                            <div id="post" onclick="requestZodiac()" value="leo">
                                <img src="images/leo.PNG" alt="Leo" width="60%">
                            </div>
                            <div id="card">
                                <h3>Leo</h3>
                            </div>
                        </div>
                        
                        <div id="libra" class="item">
                            <div id="post" onclick="requestZodiac()" value="libra">
                                <img src="images/libra.PNG" alt="libra" width="60%">
                            </div>
                            <div id="card">
                                <h3>Libra</h3>
                            </div>
                        </div>
                        
                        <div id="pisces" class="item">
                            <div id="post" onclick="requestZodiac()" value="pisces">
                                <img src="images/pisces.PNG" alt="pisces" width="60%">
                            </div>
                            <div id="card">
                                <h3>Pisces</h3>
                            </div>
                        </div>
                        
                        <div id="sagittarius" class="item">
                            <div id="post" onclick="requestZodiac()" value="sagittarius">
                                <img src="images/sagittarius.PNG" alt="sagittarius" width="60%">
                            </div>
                            <div id="card">
                                <h3>Sagittarius</h3>
                            </div>
                        </div>
                        
                        <div id="scorpio" class="item">
                            <div id="post" onclick="requestZodiac()" value="scorpio">
                                <img src="images/scorpio.PNG" alt="scorpio" width="60%">
                            </div>
                            <div id="card">
                                <h3>Scorpio</h3>
                            </div>
                        </div>
                        
                        <div id="taurus" class="item">
                            <div id="post" onclick="requestZodiac()" value="taurus">
                                <img src="images/taurus.PNG" alt="taurus" width="60%">
                            </div>
                            <div id="card">
                                <h3>Taurus</h3>
                            </div>
                        </div>
                        
                        <div id="virgo" class="item">
                            <div id="post" onclick="requestZodiac()" value="virgo">
                                <img src="images/virgo.PNG" alt="virgo" width="60%">
                            </div>
                            <div id="card">
                                <h3>Virgo</h3>
                            </div>
                        </div>
                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </nav>
            <!--The main section where info is showing-->
            <main>
                <div>
                    <form id="searchbar">
                        <button id="search" onclick="requestZodiac()" name = "searchbtn" type="button">Search</button>
                        <input id="bar" type="text" name="searchfield" placeholder="Search for stock...">
                    </form>
                </div>

                <!--Stocks from API-->
                <section id="container1" class="stockbox">
                    <div id="stockhead">
                        <h3>
                            AstroTips:
                        </h3>
                    </div>
                    <ul>
                        <li>
                            Microsoft (MSFT)
                        </li>
                        <li>
                            Apple (AAPL)
                        </li>
                        <li>
                            Amazon (AMZN)
                        </li>
                        <li>
                            Alphabet INC (GOOGL)
                        </li>
                        <li>
                            Facebook (FB)
                        </li>
                    </ul>
                </section>
                <section id="container2" class="stockbox">
                    <div id="stockhead">
                        <h3>
                            AstroAnalysis:
                        </h3>
                    </div>
                    <!--Quote of the day-->
                    <section id="quote">
                        <p>
                        </p>
                    </section>
                    <p>
                        
                    </p>
                </section>
            </main>
            <footer>

            </footer>
        </div> 
    </body>
</html>